{"ast":null,"code":"import React,{createContext,useState,useEffect,useContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export const CartContext=/*#__PURE__*/createContext();const CartProvider=_ref=>{let{children}=_ref;const[cart,setCart]=useState([]);const[itemAmount,setItemAmount]=useState(0);const[total,setTotal]=useState(0);useEffect(()=>{const total=cart.reduce((accumulator,currentItem)=>{return accumulator+currentItem.price*currentItem.amount;},0);setTotal(total);});useEffect(()=>{if(cart){const amount=cart.reduce((accumulator,currentItem)=>{return accumulator+currentItem.amount;},0);setItemAmount(amount);}},[cart]);const addToCart=(product,id)=>{const newItem={...product,amount:1};const cartItem=cart.find(item=>{return item.id===id;});if(cartItem){const newCart=[...cart].map(item=>{if(item.id===id){return{...item,amount:cartItem.amount+1};}else return item;});setCart(newCart);}else{setCart([...cart,newItem]);}};const removeFromCart=id=>{const newCart=cart.filter(item=>{return item.id!==id;});setCart(newCart);};const clearCart=()=>{setCart([]);};const increaseAmount=id=>{const cartItem=cart.find(item=>item.id===id);addToCart(cartItem,id);};const decreaseAmount=id=>{const cartItem=cart.find(item=>item.id===id);if(cartItem){const newCart=cart.map(item=>{if(item.id===id){return{...item,amount:cartItem.amount-1};}else{return item;}});setCart(newCart);}if(cartItem.amount<2){removeFromCart(id);}};return/*#__PURE__*/_jsx(CartContext.Provider,{value:{cart,addToCart,removeFromCart,clearCart,increaseAmount,decreaseAmount,itemAmount,total},children:children});};export default CartProvider;","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","jsx","_jsx","CartContext","CartProvider","_ref","children","cart","setCart","itemAmount","setItemAmount","total","setTotal","reduce","accumulator","currentItem","price","amount","addToCart","product","id","newItem","cartItem","find","item","newCart","map","removeFromCart","filter","clearCart","increaseAmount","decreaseAmount","Provider","value"],"sources":["C:/Users/banda/OneDrive/Desktop/Build/ecommerce-applocation/src/contexts/CartContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartProvider = ({ children }) => {\r\n  const [cart, setCart] = useState([]);\r\n  const [itemAmount, setItemAmount] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const total = cart.reduce((accumulator, currentItem) => {\r\n      return accumulator + currentItem.price * currentItem.amount;\r\n    }, 0);\r\n    setTotal(total);\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (cart) {\r\n      const amount = cart.reduce((accumulator, currentItem) => {\r\n        return accumulator + currentItem.amount;\r\n      }, 0);\r\n      setItemAmount(amount);\r\n    }\r\n  }, [cart]);\r\n\r\n  const addToCart = (product, id) => {\r\n    const newItem = { ...product, amount: 1 };\r\n    const cartItem = cart.find((item) => {\r\n      return item.id === id;\r\n    });\r\n    if (cartItem) {\r\n      const newCart = [...cart].map((item) => {\r\n        if (item.id === id) {\r\n          return { ...item, amount: cartItem.amount + 1 };\r\n        } else return item;\r\n      });\r\n      setCart(newCart);\r\n    } else {\r\n      setCart([...cart, newItem]);\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    const newCart = cart.filter((item) => {\r\n      return item.id !== id;\r\n    });\r\n    setCart(newCart);\r\n  };\r\n\r\n  const clearCart = () => {\r\n    setCart([]);\r\n  };\r\n\r\n  const increaseAmount = (id) => {\r\n    const cartItem = cart.find((item) => item.id === id);\r\n    addToCart(cartItem, id);\r\n  };\r\n\r\n  const decreaseAmount = (id) => {\r\n    const cartItem = cart.find((item) => item.id === id);\r\n    if (cartItem) {\r\n      const newCart = cart.map((item) => {\r\n        if (item.id === id) {\r\n          return { ...item, amount: cartItem.amount - 1 };\r\n        } else {\r\n          return item;\r\n        }\r\n      });\r\n      setCart(newCart);\r\n    }\r\n    if (cartItem.amount < 2) {\r\n      removeFromCart(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        cart,\r\n        addToCart,\r\n        removeFromCart,\r\n        clearCart,\r\n        increaseAmount,\r\n        decreaseAmount,\r\n        itemAmount,\r\n        total,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}